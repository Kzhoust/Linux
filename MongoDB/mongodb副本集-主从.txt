

Mongodb的replication主要有两种：主从和副本集（replica set）。
主从的原理和mysql类似，主节点记录在其上的所有操作oplog，从节点定期轮询主节点获取这些操作，然后对自己的数据副本执行这些操作，从而保证从节点的数据与主节点一致。 
 现在mongodb官方建议用副本集替代主从复制

副本集的原理与主从很相似,唯一不同的是,在主节点出现故障的时候,主从配置的从服务器不会自动的变为主服务器,而是要通过手动修改配置.但是副表集就不用,它会自动选出一台服务器做为主节点,从而保障系统的稳定性.

副本集特征：
N 个节点的集群
任何节点可作为主节点
所有写入操作都在主节点上
自动故障转移
自动恢复

http://www.runoob.com/mongodb/mongodb-replication.html

一.为什么要配置mongodb的主从:
1.做主从,可以说是做数据的备份,有利于故障的恢复
2.做主从,可以做到读写分离,主节点负责写操作,从节点负责读操作,这样就把读写压力分开,保证系统的稳定性.


副本集在某种程度上可以支持读写分离，其优势为：
1、  在实际生产环境中，一个Mongod风险会很高，在某段时间内，数据库发生了奔溃，会有一段时间内数据库不可用。硬件出了问题，需要将数据拷贝到另一个电脑上。

