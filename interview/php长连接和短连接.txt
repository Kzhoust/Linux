
http://blog.csdn.net/hzcyclone/article/details/7352247


长链接就是复用一个链接持续不断的进行数据交互，它不像短连接，需要频繁的打开和关闭链接，效率低的同时还增加了业务的复杂度。
在裆下很多互联网业务场景都需要长连接的支持，比如：游戏、聊天、信息推送等等等。

php是一种脚本语言，不像C++/Java那样进程能够常驻，所以它连接后端的服务都是使用短连接：

1）php建立tcp短连接
2）按照memcache协议发送数据
3）接收memcache返回的数据
4）php关闭tcp短连接
在站点流量小时，上述过程没有任何问题，当站点流量非常大，QPS很高的情况下，php对memcache的tcp建立+关闭tcp短连接的开销便不能忽略了，有可能成为性能的瓶颈，如何进行优化是本文即将讨论的核心。


http://www.ywnds.com/?p=9801
从服务器的角度来看，情况则略有不同，它可以节省创建连接的开销，但维持连接也是需要内存的。如果滥用长连接的话，可能会使用过多的MySQL服务器连接。现代的操作系统可以拥有几千个MySQL连接，但很有可能绝大部分都是睡眠（sleep）状态的，这样的工作方式不够高效，而且连接占据内存，也会导致内存的浪费。

3. 连接池

由于一些数据库创建和销毁连接的开销很大，或者相对于所执行的具体数据操作，连接所耗的资源过多，此时就可能需要添加连接池来改进性能。

数据库连接池是一些网络代理服务或应用服务器实现的特性，如J2EE服务器，它实现了一个持久连接的“池”，允许其他程序、客户端来连接，这个连接池将被所有连接的客户端共享使用，连接池可以加速连接，也可以减少数据库连接，降低数据库服务器的负载。



























